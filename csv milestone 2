(ledaer can check first after that copy paste into main for milestone 2)


#include <iostream>
#include <fstream>
#include <sstream>
using namespace std;

// global variables
int columnNum = 3;
int rowNum = 0;

string columnName[3] = {"StudentID", "Name", "Status"};
string attendance[50][3];

//Function: see the attendance in view csv mode
void viewCSV()
{
    cout << "-------------------------------------------" << endl;
    cout << "View Attendance Sheet (CSV Mode)" << endl;
    cout << "-------------------------------------------" << endl;

    if (rowNum == 0)
    {
        cout << "Sheet is empty." << endl;
        return;
    }

    // Print column headers
    for (int i = 0; i < columnNum; i++)
    {
        cout << columnName[i];
        if (i < columnNum - 1)
            cout << ", ";
    }
    cout << endl;

    // print tthe rows
    for (int i = 0; i < rowNum; i++)
    {
        for (int j = 0; j < columnNum; j++)
        {
            cout << attendance[i][j];
            if (j < columnNum - 1)
                cout << ", ";
        }
        cout << endl;
    }
}

// function one: read attendance data from csv file
void readFromFile(string filename)
{
    ifstream file(filename);

    if (!file)
    {
        cout << "Error: Unable to open file." << endl;
        return;
    }

    string line;
    rowNum = 0;

    // Skip the header line
    getline(file, line);

    while (getline(file, line) && rowNum < 50)
    {
        stringstream ss(line);
        string value;
        int col = 0;

        while (getline(ss, value, ',') && col < columnNum)
        {
            // Remove leading space if any
            if (!value.empty() && value[0] == ' ')
                value.erase(0, 1);

            attendance[rowNum][col] = value;
            col++;
        }
        rowNum++;
    }

    file.close();
    cout << "Successfully loaded: " << filename << endl;
}

// function 2 : Wwrite data into the csv file
void writeToFile(string filename)
{
    ofstream file(filename);

    if (!file)
    {
        cout << "Error: Unable to write to file." << endl;
        return;
    }

    // Write column headers
    for (int i = 0; i < columnNum; i++)
    {
        file << columnName[i];
        if (i < columnNum - 1)
            file << ", ";
    }
    file << endl;

    // Write rows
    for (int i = 0; i < rowNum; i++)
    {
        for (int j = 0; j < columnNum; j++)
        {
            file << attendance[i][j];
            if (j < columnNum - 1)
                file << ", ";
        }
        file << endl;
    }

    file.close();
    cout << "Output saved as: " << filename << endl;
}

// main function to read, write and view file
int main()
{
    cout << "STUDENT ATTENDANCE TRACKER - MILESTONE 2" << endl;
    cout << "-------------------------------------------" << endl;

    readFromFile("Week1_Attendance.csv");

    cout << endl;
    viewCSV();

    cout << endl;
    writeToFile("Week1_Attendance_Updated.csv");

    return 0;
}
